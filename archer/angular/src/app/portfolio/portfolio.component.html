<ng-container *ngIf="userObs | async as user">
  <div class="portfolio_container" *ngIf="userAssetsObs | async as userAssets">
    <div class="zero_state"></div>
    <div class="portfolio">
      <div class="container">
        <div class="global_portfolio_section">
          <div class="title">Global Portfolio</div>
          <div class="totals">
            <div class="portfolio_value gain">{{getPortfolioValue(userAssets) | currency: 'USD'}}</div>
            <div class="change_since_yesterday gain gain_bg">
              <span class="value">+12.32%</span>
              <mat-icon svgIcon="up_arrow" class="arrow"></mat-icon>
            </div>
            <div class="updated_at">At close: March 10 04:00 PM EST</div>
          </div>
        </div>

        <div class="chart_and_controls_container">
          <div class="chart_container"></div>
          <div class="controls">
            <button class="control_button" mat-flat-button>1D</button>
            <button class="control_button selected" mat-flat-button>1W</button>
            <button class="control_button" mat-flat-button>1M</button>
            <button class="control_button" mat-flat-button>3M</button>
            <button class="control_button" mat-flat-button>1Y</button>
          </div>
        </div>

        <div class="health_and_diversity">
          <div class="title">Portfolio Health & Diversity</div>
          <div class="stats">
            <div class="stat">
              <div class="stat_name">Total gain</div>
              <div class="stat_value gain">$17,565.32 (+29.23%)</div>
            </div>
            <div class="stat">
              <div class="stat_name">Cash holding</div>
              <div class="stat_value lose">$5.328.12</div>
            </div>
            <div class="stat">
              <div class="stat_name">Total shares</div>
              <div class="stat_value gain">102 / 5 holdings</div>
            </div>
          </div>
          <div class="progress_bar_container">
            <div class="single_progress_bar color1" style="width: 35%"></div>
            <div class="single_progress_bar color2" style="width: 20%"></div>
            <div class="single_progress_bar color3" style="width: 20%"></div>
            <div class="single_progress_bar color4" style="width: 25%"></div>
          </div>
          <div class="progress_bar_tags">
            <div class="tag">
              <div class="bullet color1"></div>
              <div class="tag_text">Technology <span class="bold">35%</span></div>
            </div>
            <div class="tag">
              <div class="bullet color2"></div>
              <div class="tag_text">Finance <span class="bold">20%</span></div>
            </div>
            <div class="tag">
              <div class="bullet color3"></div>
              <div class="tag_text">Real estate <span class="bold">20%</span></div>
            </div>
            <div class="tag">
              <div class="bullet color4"></div>
              <div class="tag_text">Others <span class="bold">25%</span></div>
            </div>
          </div>
        </div>

        <div class="assets_table">
          <div class="row header">
            <div class="cell">Symbol</div>
            <div class="cell">Last price</div>
            <div class="cell">Change</div>
            <div class="cell">Change %</div>
            <div class="cell">Shares</div>
            <div class="cell">Total value</div>
          </div>
          <div class="row">
            <div class="cell">AAPL</div>
            <div class="cell">$1,000.00</div>
            <div class="cell gain bold">+$45.23</div>
            <div class="cell gain bold">+12.32%</div>
            <div class="cell">10</div>
            <div class="cell">$10,000.00</div>
          </div>
          <div class="row">
            <div class="cell">GOOG</div>
            <div class="cell">$1,000.00</div>
            <div class="cell gain bold">+$45.23</div>
            <div class="cell gain bold">+12.32%</div>
            <div class="cell">10</div>
            <div class="cell">$10,000.00</div>
          </div>
          <div class="row">
            <div class="cell">BOA</div>
            <div class="cell">$1,000.00</div>
            <div class="cell gain bold">+$45.23</div>
            <div class="cell gain bold">+12.32%</div>
            <div class="cell">10</div>
            <div class="cell">$10,000.00</div>
          </div>
        </div>
      </div>
    </div>
  </div>
</ng-container>
